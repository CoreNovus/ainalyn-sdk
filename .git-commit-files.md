# Git Commit Files Checklist

æ¯å€‹ commit æ‡‰è©²åŒ…å«çš„å…·é«”æ–‡ä»¶åˆ—è¡¨ï¼Œæ–¹ä¾¿åŸ·è¡Œ `git add` æ“ä½œã€‚

---

## âœ… Phase 1: Project Foundation

### Commit 1: `feat: initialize ainalyn-sdk project structure`

```bash
git add \
  pyproject.toml \
  .gitignore \
  .pre-commit-config.yaml \
  Makefile \
  README.md \
  ainalyn/__init__.py \
  ainalyn/_version.py
```

**æ–‡ä»¶èªªæ˜ï¼š**
- `pyproject.toml` - é …ç›®é…ç½®ã€ä¾è³´ã€å·¥å…·è¨­å®š
- `.gitignore` - Git å¿½ç•¥è¦å‰‡
- `.pre-commit-config.yaml` - Pre-commit hooks é…ç½®
- `Makefile` - é–‹ç™¼å‘½ä»¤é›†åˆ
- `README.md` - é …ç›®èªªæ˜
- `ainalyn/__init__.py` - åŒ…åˆå§‹åŒ–
- `ainalyn/_version.py` - ç‰ˆæœ¬ç®¡ç†

---

## âœ… Phase 2: ISSUE-01 - Hexagonal Architecture & Domain Layer

### Commit 2: `feat(domain): implement core domain entities`

```bash
git add \
  ainalyn/domain/__init__.py \
  ainalyn/domain/entities/__init__.py \
  ainalyn/domain/entities/agent_definition.py \
  ainalyn/domain/entities/workflow.py \
  ainalyn/domain/entities/node.py \
  ainalyn/domain/entities/module.py \
  ainalyn/domain/entities/prompt.py \
  ainalyn/domain/entities/tool.py
```

**æ–‡ä»¶èªªæ˜ï¼š**
- 7 å€‹ domain entity æ–‡ä»¶
- æ‰€æœ‰å¯¦é«”éƒ½æ˜¯ frozen dataclasses
- å¯¦ç¾ Aggregate Root (AgentDefinition)

---

### Commit 3: `feat(domain): add domain validation rules`

```bash
git add \
  ainalyn/domain/rules/__init__.py \
  ainalyn/domain/rules/definition_rules.py
```

**æ–‡ä»¶èªªæ˜ï¼š**
- `DefinitionRules` - é ˜åŸŸé©—è­‰è¦å‰‡
- åŒ…å«åç¨±é©—è­‰ã€ç‰ˆæœ¬é©—è­‰ã€å¾ªç’°ä¾è³´æª¢æ¸¬ç­‰

---

### Commit 4: `feat(ports): define inbound and outbound port interfaces`

```bash
git add \
  ainalyn/ports/__init__.py \
  ainalyn/ports/inbound/__init__.py \
  ainalyn/ports/inbound/builder.py \
  ainalyn/ports/inbound/validator.py \
  ainalyn/ports/inbound/exporter.py \
  ainalyn/ports/outbound/__init__.py \
  ainalyn/ports/outbound/writer.py \
  ainalyn/ports/outbound/schema_validator.py
```

**æ–‡ä»¶èªªæ˜ï¼š**
- Inbound Ports: IDefinitionBuilder, IDefinitionValidator, IDefinitionExporter
- Outbound Ports: IDefinitionWriter, ISchemaValidator
- ValidationResult, ValidationError, Severity models

---

### Commit 5: `test(domain): add comprehensive domain layer tests`

```bash
git add \
  tests/__init__.py \
  tests/unit/__init__.py \
  tests/unit/domain/__init__.py \
  tests/unit/domain/entities/__init__.py \
  tests/unit/domain/entities/test_entities.py \
  tests/unit/domain/rules/__init__.py \
  tests/unit/domain/rules/test_definition_rules.py
```

**æ–‡ä»¶èªªæ˜ï¼š**
- Domain entities æ¸¬è©¦
- Domain rules æ¸¬è©¦
- è¦†è“‹ç‡ >90%

---

## âœ… Phase 3: ISSUE-02 - DSL Builder API

### Commit 6: `feat(adapters): implement builder error hierarchy`

```bash
git add \
  ainalyn/adapters/__init__.py \
  ainalyn/adapters/primary/__init__.py \
  ainalyn/adapters/primary/errors.py
```

**æ–‡ä»¶èªªæ˜ï¼š**
- BuilderError åŸºé¡
- 6 å€‹å…·é«”éŒ¯èª¤é¡å‹
- æ¸…æ™°çš„éŒ¯èª¤è¨Šæ¯

---

### Commit 7: `feat(adapters): implement fluent builder API`

```bash
git add \
  ainalyn/adapters/primary/builders.py
```

**æ–‡ä»¶èªªæ˜ï¼š**
- ModuleBuilder, PromptBuilder, ToolBuilder
- NodeBuilder, WorkflowBuilder, AgentBuilder
- æ‰€æœ‰ builder éƒ½ä½¿ç”¨ fluent interface
- ~1000 è¡Œä»£ç¢¼

---

### Commit 8: `feat(api): expose builders in public API`

```bash
git add \
  ainalyn/__init__.py \
  ainalyn/adapters/primary/__init__.py
```

**æ–‡ä»¶èªªæ˜ï¼š**
- æ›´æ–°é ‚å±¤ __init__.py
- å°å‡ºæ‰€æœ‰ builders å’Œ errors
- å®šç¾©å…¬å…± API surface

---

### Commit 9: `test(adapters): add builder unit tests`

```bash
git add \
  tests/unit/adapters/__init__.py \
  tests/unit/adapters/primary/__init__.py \
  tests/unit/adapters/primary/test_errors.py \
  tests/unit/adapters/primary/test_builders.py
```

**æ–‡ä»¶èªªæ˜ï¼š**
- Builder éŒ¯èª¤æ¸¬è©¦
- Builder åŠŸèƒ½æ¸¬è©¦
- è¦†è“‹ç‡ >85%

---

### Commit 10: `refactor(tests): reorganize test structure to mirror codebase`

```bash
git add \
  tests/README.md \
  tests/integration/__init__.py \
  tests/unit/ports/__init__.py \
  pyproject.toml
```

**æ–‡ä»¶èªªæ˜ï¼š**
- tests/README.md - æ¸¬è©¦æ–‡æª”
- æ¸¬è©¦ç›®éŒ„é‡çµ„
- æ›´æ–° pytest é…ç½®

---

## ğŸ”„ Phase 4: ISSUE-03 - Validation & Static Analysis (è¨ˆåŠƒä¸­)

### Commit 11: `feat(adapters): implement schema validator`

```bash
git add \
  ainalyn/adapters/secondary/__init__.py \
  ainalyn/adapters/secondary/validators.py
```

**è¨ˆåŠƒæ–‡ä»¶ï¼š**
- `validators.py` - SchemaValidator å¯¦ç¾
  - å¯¦ç¾ ISchemaValidator Protocol
  - é©—è­‰å¿…å¡«æ¬„ä½
  - é©—è­‰å‘½åè¦ç¯„
  - é©—è­‰ç‰ˆæœ¬æ ¼å¼
  - ç”Ÿæˆ ValidationError åˆ—è¡¨

**ä¼°è¨ˆä»£ç¢¼é‡ï¼š** ~300-400 è¡Œ

---

### Commit 12: `feat(adapters): implement static analyzer`

```bash
git add \
  ainalyn/adapters/secondary/analyzers.py
```

**è¨ˆåŠƒæ–‡ä»¶ï¼š**
- `analyzers.py` - StaticAnalyzer å¯¦ç¾
  - å¾ªç’°ä¾è³´æª¢æ¸¬
  - ä¸å¯é”ç¯€é»æª¢æ¸¬
  - æœªä½¿ç”¨è³‡æºæª¢æ¸¬
  - ä½¿ç”¨ DefinitionRules

**ä¼°è¨ˆä»£ç¢¼é‡ï¼š** ~200-300 è¡Œ

---

### Commit 13: `test(adapters): add validation and analysis tests`

```bash
git add \
  tests/unit/adapters/secondary/__init__.py \
  tests/unit/adapters/secondary/test_validators.py \
  tests/unit/adapters/secondary/test_analyzers.py
```

**è¨ˆåŠƒæ–‡ä»¶ï¼š**
- SchemaValidator æ¸¬è©¦
- StaticAnalyzer æ¸¬è©¦
- è¦†è“‹ç‡ >85%

**ä¼°è¨ˆä»£ç¢¼é‡ï¼š** ~400-500 è¡Œæ¸¬è©¦

---

### Commit 14: `feat(api): expose validation in public API`

```bash
git add \
  ainalyn/__init__.py \
  ainalyn/adapters/secondary/__init__.py
```

**è¨ˆåŠƒæ–‡ä»¶ï¼š**
- å°å‡º SchemaValidator
- å°å‡º StaticAnalyzer
- æ›´æ–°å…¬å…± API

---

### Commit 15: `docs: update README with validation examples`

```bash
git add \
  README.md \
  .git-commit-plan.md
```

**è¨ˆåŠƒæ–‡ä»¶ï¼š**
- æ›´æ–° README ä½¿ç”¨ç¯„ä¾‹
- é©—è­‰ API æ–‡æª”

---

## ğŸ“Š æ–‡ä»¶çµ±è¨ˆ

### å·²å®Œæˆ (Commits 1-10)
```
æºç¢¼æ–‡ä»¶ï¼š27 å€‹
æ¸¬è©¦æ–‡ä»¶ï¼š4 å€‹
é…ç½®æ–‡ä»¶ï¼š4 å€‹
æ–‡æª”æ–‡ä»¶ï¼š2 å€‹
ç¸½è¨ˆï¼š37 å€‹
```

### è¨ˆåŠƒä¸­ (Commits 11-15)
```
æºç¢¼æ–‡ä»¶ï¼š+2 å€‹ (validators.py, analyzers.py)
æ¸¬è©¦æ–‡ä»¶ï¼š+3 å€‹
æ–‡æª”æ›´æ–°ï¼šREADME.md
ç¸½è¨ˆæ–°å¢ï¼š+5 å€‹
```

---

## ğŸš€ å¿«é€ŸåŸ·è¡ŒæŒ‡å—

### é¸é … A: é€å€‹ Commitï¼ˆæ¨è–¦ï¼‰

```bash
# Commit 1
git add pyproject.toml .gitignore .pre-commit-config.yaml Makefile README.md ainalyn/__init__.py ainalyn/_version.py
git commit -m "feat: initialize ainalyn-sdk project structure

- Set up hexagonal architecture directory layout
- Configure pyproject.toml with strict type checking
- Add mypy, ruff, pytest configurations
- Establish development tooling

Refs: Project initialization"

# Commit 2
git add ainalyn/domain/
git commit -m "feat(domain): implement core domain entities

- Add immutable AgentDefinition (Aggregate Root)
- Add Workflow, Node, Module, Prompt, Tool entities
- All entities are frozen dataclasses with full type hints
- Passes mypy --strict

Implements: ISSUE-01
Architecture: Hexagonal (Domain Layer)
SOLID: Single Responsibility"

# ... ç¹¼çºŒå…¶ä»– commits
```

### é¸é … B: åˆä½µ Commitsï¼ˆå¿«é€Ÿç‰ˆï¼‰

```bash
# åˆä½µ Phase 1 & Phase 2
git add pyproject.toml .gitignore ainalyn/domain/ ainalyn/ports/
git commit -m "feat: implement ISSUE-01 (Domain Layer & Ports)

- Hexagonal architecture foundation
- Domain entities, rules, and ports
- Passes mypy --strict

Implements: ISSUE-01"

# åˆä½µ Phase 3
git add ainalyn/adapters/primary/ tests/unit/adapters/primary/
git commit -m "feat: implement ISSUE-02 (Builder API)

- Fluent builder API for all entities
- Builder error hierarchy
- Comprehensive unit tests

Implements: ISSUE-02"

# æ¸¬è©¦é‡çµ„
git add tests/README.md tests/unit/ tests/integration/
git commit -m "refactor: reorganize test structure

- Mirror codebase structure
- Separate unit and integration tests

Improves: Test maintainability"
```

### é¸é … C: å–®ä¸€ Commitï¼ˆæœ€å¿«ï¼‰

```bash
git add .
git commit -m "feat: implement ISSUE-01 and ISSUE-02

- Complete hexagonal architecture foundation
- Domain layer with entities and rules
- Fluent builder API (Primary Adapters)
- Comprehensive test coverage (>85%)

Implements: ISSUE-01, ISSUE-02
Architecture: Hexagonal
AI-Assisted: Initial implementation"
```

---

## ğŸ’¡ å»ºè­°ç­–ç•¥

### å¦‚æœæ™‚é–“å……è£• â†’ é¸é … A
- âœ… æœ€æ¸…æ™°çš„æ­·å²
- âœ… æ˜“æ–¼ code review
- âœ… æ–¹ä¾¿å¾ŒçºŒå›æº¯

### å¦‚æœé©åº¦å¹³è¡¡ â†’ é¸é … B
- âœ… ä¿ç•™é‡è¦é‡Œç¨‹ç¢‘
- âœ… æ­·å²ç°¡æ½”ä½†æ¸…æ™°
- âš¡ åŸ·è¡Œå¿«é€Ÿ

### å¦‚æœæ€¥æ–¼æ¨é€² â†’ é¸é … C
- âš¡ æœ€å¿«é€Ÿ
- âš ï¸ æ­·å²è¼ƒç²—ç•¥
- é©åˆ AI è¼”åŠ©é–‹ç™¼çš„å¿«é€Ÿè¿­ä»£

---

## ğŸ“ ç‰¹åˆ¥æ³¨æ„

### æ¯å€‹ Commit å‰æª¢æŸ¥ï¼š
```bash
# 1. ç¢ºä¿æ‰€æœ‰æ¸¬è©¦é€šé
pytest

# 2. ç¢ºä¿é¡å‹æª¢æŸ¥é€šé
.venv/Scripts/python.exe -m mypy ainalyn --strict

# 3. ç¢ºä¿ä»£ç¢¼é¢¨æ ¼é€šé
.venv/Scripts/python.exe -m ruff check ainalyn

# 4. æŸ¥çœ‹å³å°‡æäº¤çš„æ–‡ä»¶
git status
git diff --cached
```

### Commit Message æª¢æŸ¥æ¸…å–®ï¼š
- [ ] é¡å‹æ­£ç¢º (feat/fix/refactor/test/docs)
- [ ] Scope æ­£ç¢º (domain/ports/adapters/api)
- [ ] Subject æ¸…æ™°ç°¡æ½”
- [ ] Body åŒ…å«é‡é»èªªæ˜
- [ ] Footer åŒ…å« Implements/Architecture/SOLID æ¨™è¨»

---

**æ‚¨å¸Œæœ›æ¡ç”¨å“ªå€‹é¸é …ï¼Ÿ**
- **é¸é … A**: 10 å€‹è©³ç´° commitsï¼ˆæˆ‘å¯ä»¥å¹«æ‚¨åŸ·è¡Œï¼‰
- **é¸é … B**: 3-4 å€‹åˆä½µ commits
- **é¸é … C**: 1-2 å€‹ç°¡åŒ– commits

å‘Šè¨´æˆ‘æ‚¨çš„é¸æ“‡ï¼Œæˆ‘å¯ä»¥ç«‹å³å”åŠ©åŸ·è¡Œï¼
