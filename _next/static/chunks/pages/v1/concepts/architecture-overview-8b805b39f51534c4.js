(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{1510:function(i,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/v1/concepts/architecture-overview",function(){return n(1194)}])},1194:function(i,s,n){"use strict";n.r(s),n.d(s,{useTOC:function(){return a}});var e=n(5893),l=n(7812),r=n(8844),h=n(9299),d=n(5192);function a(i){return[{value:"High-Level Architecture",id:"high-level-architecture",depth:2},{value:"The Five Layers",id:"the-five-layers",depth:2},{value:"Layer 1: Domain (Core Business Logic)",id:"layer-1-domain-core-business-logic",depth:3},{value:"Layer 2: Ports (Interface Definitions)",id:"layer-2-ports-interface-definitions",depth:3},{value:"Layer 3: Adapters (Implementations)",id:"layer-3-adapters-implementations",depth:3},{value:"Layer 4: Application (Use Cases & Services)",id:"layer-4-application-use-cases--services",depth:3},{value:"Layer 5: Public API & CLI",id:"layer-5-public-api--cli",depth:3},{value:"Dependency Flow",id:"dependency-flow",depth:2},{value:"Design Patterns",id:"design-patterns",depth:2},{value:"1. Builder Pattern",id:"1-builder-pattern",depth:3},{value:"2. Protocol Pattern (Interface Segregation)",id:"2-protocol-pattern-interface-segregation",depth:3},{value:"3. Singleton Pattern",id:"3-singleton-pattern",depth:3},{value:"4. Immutability Pattern",id:"4-immutability-pattern",depth:3},{value:"5. Use Case Pattern",id:"5-use-case-pattern",depth:3},{value:"SOLID Principles",id:"solid-principles",depth:2},{value:"Single Responsibility Principle (SRP)",id:"single-responsibility-principle-srp",depth:3},{value:"Open/Closed Principle (OCP)",id:"openclosed-principle-ocp",depth:3},{value:"Liskov Substitution Principle (LSP)",id:"liskov-substitution-principle-lsp",depth:3},{value:"Interface Segregation Principle (ISP)",id:"interface-segregation-principle-isp",depth:3},{value:"Dependency Inversion Principle (DIP)",id:"dependency-inversion-principle-dip",depth:3},{value:"Why Hexagonal Architecture?",id:"why-hexagonal-architecture",depth:2},{value:"Benefits",id:"benefits",depth:3},{value:"Example: Swapping Exporters",id:"example-swapping-exporters",depth:3},{value:"Package Structure",id:"package-structure",depth:2},{value:"Data Flow Example",id:"data-flow-example",depth:2},{value:"Building and Exporting an Agent",id:"building-and-exporting-an-agent",depth:3},{value:"Further Reading",id:"further-reading",depth:2}]}s.default=(0,l.c)(function(i){let{toc:s=a(i)}=i,n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,h.a)(),...i.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.h1,{children:"Architecture Overview"}),"\n",(0,e.jsxs)(n.p,{children:["The Ainalyn SDK is built on ",(0,e.jsx)(n.strong,{children:"Hexagonal Architecture"})," (also known as Ports and Adapters), ensuring clean separation of concerns and maintainability."]}),"\n",(0,e.jsx)(n.h2,{id:s[0].id,children:s[0].value}),"\n",(0,e.jsx)(n.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"┌─────────────────────────────────────────────────────────────┐"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│                     Ainalyn SDK                             │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│                                                             │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  ┌──────────────────────────────────────────────────────┐  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │         Layer 5: Public API & CLI                    │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │  api.py, cli.py, __init__.py                         │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  └──────────────────┬───────────────────────────────────┘  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│                     │                                       │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  ┌──────────────────▼───────────────────────────────────┐  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │         Layer 4: Application                         │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │  Use Cases, Services                                 │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  └──────────────────┬───────────────────────────────────┘  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│                     │                                       │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  ┌──────────────────▼───────────────────────────────────┐  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │         Layer 3: Adapters                            │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │  Primary: Builders, Errors                           │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │  Secondary: Validators, Exporters, Analyzers         │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  └──────────────────┬───────────────────────────────────┘  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│                     │                                       │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  ┌──────────────────▼───────────────────────────────────┐  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │         Layer 2: Ports                               │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │  Inbound: Builder, Validator, Exporter Protocols     │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │  Outbound: Writer, SchemaValidator Protocols         │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  └──────────────────┬───────────────────────────────────┘  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│                     │                                       │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  ┌──────────────────▼───────────────────────────────────┐  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │         Layer 1: Domain                              │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │  Entities: AgentDefinition, Workflow, Node, etc.     │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  │  Rules: DefinitionRules, Validators                  │  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│  └──────────────────────────────────────────────────────┘  │"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"└─────────────────────────────────────────────────────────────┘"})})]})}),"\n",(0,e.jsx)(n.h2,{id:s[1].id,children:s[1].value}),"\n",(0,e.jsx)(n.h3,{id:s[2].id,children:s[2].value}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Location"}),": ",(0,e.jsx)(n.code,{children:"ainalyn/domain/"})]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Purpose"}),": Pure business entities and rules with NO external dependencies"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Components"}),":"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Entities"})," (",(0,e.jsx)(n.code,{children:"entities/"}),"): Immutable frozen dataclasses","\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"AgentDefinition"})," - The aggregate root"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"Workflow"}),", ",(0,e.jsx)(n.code,{children:"Node"}),", ",(0,e.jsx)(n.code,{children:"Module"}),", ",(0,e.jsx)(n.code,{children:"Prompt"}),", ",(0,e.jsx)(n.code,{children:"Tool"})]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Rules"})," (",(0,e.jsx)(n.code,{children:"rules/"}),"): Domain validation logic","\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsx)(n.li,{children:"Naming conventions"}),"\n",(0,e.jsx)(n.li,{children:"Circular dependency detection"}),"\n",(0,e.jsx)(n.li,{children:"Platform boundary enforcement"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Key Characteristics"}),":"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsx)(n.li,{children:"Frozen dataclasses (immutable)"}),"\n",(0,e.jsx)(n.li,{children:"No external dependencies"}),"\n",(0,e.jsx)(n.li,{children:"Pure Python types"}),"\n",(0,e.jsx)(n.li,{children:"100% type-safe"}),"\n"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"@dataclass"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"frozen"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"True"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" AgentDefinition"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    """Agent Definition - The aggregate root.'})}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    NOTE"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:": This is a DESCRIPTION entity, not a runtime implementation."})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    """'})}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    name: "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"str"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    version: "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"str"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    description: "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"str"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    workflows: tuple[Workflow, "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"..."}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    modules: tuple[Module, "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"..."}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    prompts: tuple[Prompt, "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"..."}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    tools: tuple[Tool, "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"..."}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})]})]})}),"\n",(0,e.jsx)(n.h3,{id:s[3].id,children:s[3].value}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Location"}),": ",(0,e.jsx)(n.code,{children:"ainalyn/ports/"})]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Purpose"}),": Define contracts between layers using Python Protocols"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Components"}),":"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Inbound Ports"})," (",(0,e.jsx)(n.code,{children:"inbound/"}),"): How external world uses the SDK","\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"Builder"})," - Interface for building entities"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"Validator"})," - Interface for validation"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"Exporter"})," - Interface for export"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Outbound Ports"})," (",(0,e.jsx)(n.code,{children:"outbound/"}),"): How SDK uses external services","\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"Writer"})," - File writing interface"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"SchemaValidator"})," - Schema validation interface"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Key Characteristics"}),":"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsx)(n.li,{children:"Protocol-based (duck typing)"}),"\n",(0,e.jsx)(n.li,{children:"No implementations"}),"\n",(0,e.jsx)(n.li,{children:"Dependency Inversion Principle"}),"\n"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Builder"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(Protocol[T]):"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    """Protocol for builder pattern."""'})}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" build"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self) -> T:"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'        """Build and return the entity."""'})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"        ..."})})]})}),"\n",(0,e.jsx)(n.h3,{id:s[4].id,children:s[4].value}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Location"}),": ",(0,e.jsx)(n.code,{children:"ainalyn/adapters/"})]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Purpose"}),": Implement the port interfaces"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Components"}),":"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Primary Adapters"})," (",(0,e.jsx)(n.code,{children:"primary/"}),"): Entry points","\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"AgentBuilder"}),", ",(0,e.jsx)(n.code,{children:"WorkflowBuilder"}),", ",(0,e.jsx)(n.code,{children:"NodeBuilder"}),", etc."]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"BuilderError"}),", ",(0,e.jsx)(n.code,{children:"ValidationError"})]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Secondary Adapters"})," (",(0,e.jsx)(n.code,{children:"secondary/"}),"): Infrastructure","\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"YamlExporter"})," - YAML export implementation"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"SchemaValidator"})," - JSON Schema validation"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"StaticAnalyzer"})," - Code analysis"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Key Characteristics"}),":"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsx)(n.li,{children:"Implements Protocol interfaces"}),"\n",(0,e.jsx)(n.li,{children:"Handles external interactions"}),"\n",(0,e.jsx)(n.li,{children:"Converts between layers"}),"\n"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" AgentBuilder"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    """Fluent builder for AgentDefinition."""'})}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" __init__"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self, name: "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"str"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") -> "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"None"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"        self"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"._name "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" name"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"        self"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"._workflows: list[Workflow] "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" []"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # ..."})}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" add_workflow"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self, workflow: Workflow) -> AgentBuilder:"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'        """Add a workflow (fluent interface)."""'})}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"        self"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"._workflows.append(workflow)"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        return"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" self"})]}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" build"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self) -> AgentDefinition:"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'        """Build the AgentDefinition."""'})}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        return"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" AgentDefinition("})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"            name"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"self"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"._name,"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"            workflows"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"tuple"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"self"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"._workflows),"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"            # ..."})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        )"})})]})}),"\n",(0,e.jsx)(n.h3,{id:s[5].id,children:s[5].value}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Location"}),": ",(0,e.jsx)(n.code,{children:"ainalyn/application/"})]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Purpose"}),": Orchestrate domain logic and adapters"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Components"}),":"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"DefinitionService"})," - Core service coordinating operations"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Use Cases"})," (",(0,e.jsx)(n.code,{children:"use_cases/"}),"):","\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsx)(n.li,{children:(0,e.jsx)(n.code,{children:"ValidateDefinitionUseCase"})}),"\n",(0,e.jsx)(n.li,{children:(0,e.jsx)(n.code,{children:"ExportDefinitionUseCase"})}),"\n",(0,e.jsx)(n.li,{children:(0,e.jsx)(n.code,{children:"CompileDefinitionUseCase"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Key Characteristics"}),":"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsx)(n.li,{children:"Orchestrates workflows"}),"\n",(0,e.jsx)(n.li,{children:"No business logic (delegates to domain)"}),"\n",(0,e.jsx)(n.li,{children:"Dependency injection"}),"\n"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" DefinitionService"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    """Service for agent definition operations."""'})}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" __init__"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        self,"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        validator: Validator,"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        exporter: Exporter,"})}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    ) -> "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"None"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"        self"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"._validator "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" validator"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"        self"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"._exporter "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" exporter"})]}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" compile"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self, definition: AgentDefinition) -> "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"str"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'        """Validate and export definition."""'})}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"        self"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"._validator.validate(definition)"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        return"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" self"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"._exporter.export(definition)"})]})]})}),"\n",(0,e.jsx)(n.h3,{id:s[6].id,children:s[6].value}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Location"}),": ",(0,e.jsx)(n.code,{children:"ainalyn/api.py"}),", ",(0,e.jsx)(n.code,{children:"ainalyn/cli.py"}),", ",(0,e.jsx)(n.code,{children:"ainalyn/__init__.py"})]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Purpose"}),": Provide convenient entry points for users"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Components"}),":"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"api.py"})," - High-level functions (",(0,e.jsx)(n.code,{children:"validate()"}),", ",(0,e.jsx)(n.code,{children:"export_yaml()"}),")"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"cli.py"})," - Command-line interface"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"__init__.py"})," - Public exports"]}),"\n"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Key Characteristics"}),":"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsx)(n.li,{children:"User-friendly interfaces"}),"\n",(0,e.jsx)(n.li,{children:"Minimal logic (delegates to layers below)"}),"\n",(0,e.jsx)(n.li,{children:"Clear public API"}),"\n"]}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# api.py"})}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" validate"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(definition: AgentDefinition) -> "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"None"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    """Validate an agent definition."""'})}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    service "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" _get_service()"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    service.validate(definition)"})}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" export_yaml"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(definition: AgentDefinition) -> "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"str"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    """Export definition to YAML."""'})}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    service "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" _get_service()"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    return"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" service.export_yaml(definition)"})]})]})}),"\n",(0,e.jsx)(n.h2,{id:s[7].id,children:s[7].value}),"\n",(0,e.jsxs)(n.p,{children:["Dependencies always point ",(0,e.jsx)(n.strong,{children:"inward"}),":"]}),"\n",(0,e.jsx)(n.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"API/CLI"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"  ↓"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"Application"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"  ↓"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"Adapters"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"  ↓"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"Ports (interfaces)"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"  ↓"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"Domain (pure logic)"})})]})}),"\n",(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:"Why?"}),": The domain layer has zero dependencies, making it:"]}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsx)(n.li,{children:"Easy to test"}),"\n",(0,e.jsx)(n.li,{children:"Easy to understand"}),"\n",(0,e.jsx)(n.li,{children:"Easy to change"}),"\n",(0,e.jsx)(n.li,{children:"Stable and reliable"}),"\n"]}),"\n",(0,e.jsx)(n.h2,{id:s[8].id,children:s[8].value}),"\n",(0,e.jsx)(n.h3,{id:s[9].id,children:s[9].value}),"\n",(0,e.jsx)(n.p,{children:"Used for entity construction:"}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"agent "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ("})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    AgentBuilder("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"MyAgent"'}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    .description("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"..."'}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    .version("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"1.0.0"'}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    .add_workflow("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"..."}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    .build()"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})})]})}),"\n",(0,e.jsx)(n.h3,{id:s[10].id,children:s[10].value}),"\n",(0,e.jsx)(n.p,{children:"Used for defining interfaces:"}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Validator"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"Protocol"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"):"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" validate"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self, definition: AgentDefinition) -> "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"None"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"..."})]})]})}),"\n",(0,e.jsx)(n.h3,{id:s[11].id,children:s[11].value}),"\n",(0,e.jsx)(n.p,{children:"Used for the main service:"}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Module-level singleton"})}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"_service: DefinitionService "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"|"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" None"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" None"})]}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" _get_service"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"() -> DefinitionService:"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    global"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" _service"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    if"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" _service "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"is"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" None"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        _service "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" DefinitionService("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"..."}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    return"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" _service"})]})]})}),"\n",(0,e.jsx)(n.h3,{id:s[12].id,children:s[12].value}),"\n",(0,e.jsx)(n.p,{children:"All entities are frozen:"}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"@dataclass"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"frozen"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"True"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Workflow"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    name: "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"str"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    nodes: tuple[Node, "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"..."}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]  "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Immutable tuple"})]})]})}),"\n",(0,e.jsx)(n.h3,{id:s[13].id,children:s[13].value}),"\n",(0,e.jsx)(n.p,{children:"Encapsulates application logic:"}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" ValidateDefinitionUseCase"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" execute"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self, definition: AgentDefinition) -> "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"None"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # Validation logic"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"        ..."})})]})}),"\n",(0,e.jsx)(n.h2,{id:s[14].id,children:s[14].value}),"\n",(0,e.jsx)(n.h3,{id:s[15].id,children:s[15].value}),"\n",(0,e.jsx)(n.p,{children:"Each class/module has one reason to change:"}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"AgentBuilder"}),": Build agents"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"YamlExporter"}),": Export YAML"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:"DefinitionRules"}),": Validate rules"]}),"\n"]}),"\n",(0,e.jsx)(n.h3,{id:s[16].id,children:s[16].value}),"\n",(0,e.jsx)(n.p,{children:"Entities are frozen (closed for modification):"}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"@dataclass"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"frozen"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"True"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")  "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Cannot be modified"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" AgentDefinition"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"    ..."})})]})}),"\n",(0,e.jsx)(n.h3,{id:s[17].id,children:s[17].value}),"\n",(0,e.jsxs)(n.p,{children:["Any ",(0,e.jsx)(n.code,{children:"Validator"})," implementation works:"]}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" validate_agent"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(validator: Validator, agent: AgentDefinition) -> "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"None"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    validator.validate(agent)  "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Any validator works"})]})]})}),"\n",(0,e.jsx)(n.h3,{id:s[18].id,children:s[18].value}),"\n",(0,e.jsx)(n.p,{children:"Small, focused protocols:"}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Builder"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(Protocol[T]):"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" build"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self) -> T: "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"..."})]}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Validator"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"Protocol"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"):"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" validate"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self, definition: AgentDefinition) -> "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"None"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"..."})]})]})}),"\n",(0,e.jsx)(n.h3,{id:s[19].id,children:s[19].value}),"\n",(0,e.jsx)(n.p,{children:"Depend on abstractions (Protocols), not concretions:"}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" DefinitionService"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" __init__"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self, validator: Validator, exporter: Exporter):"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # Depends on protocols, not concrete classes"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"        ..."})})]})}),"\n",(0,e.jsx)(n.h2,{id:s[20].id,children:s[20].value}),"\n",(0,e.jsx)(n.h3,{id:s[21].id,children:s[21].value}),"\n",(0,e.jsxs)(n.ol,{children:["\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Testability"}),": Each layer can be tested independently"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Maintainability"}),": Changes in one layer don’t cascade"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Flexibility"}),": Easy to swap implementations"]}),"\n",(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:"Clarity"}),": Clear separation of concerns"]}),"\n"]}),"\n",(0,e.jsx)(n.h3,{id:s[22].id,children:s[22].value}),"\n",(0,e.jsxs)(n.p,{children:["Want to add JSON export? Just implement the ",(0,e.jsx)(n.code,{children:"Exporter"})," protocol:"]}),"\n",(0,e.jsx)(n.pre,{icon:d.gx,tabIndex:"0","data-language":"python","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"class"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" JsonExporter"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    """JSON export implementation."""'})}),"\n",(0,e.jsx)(n.span,{children:" "}),"\n",(0,e.jsxs)(n.span,{children:[(0,e.jsx)(n.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    def"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" export"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(self, definition: AgentDefinition) -> "}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"str"}),(0,e.jsx)(n.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # JSON export logic"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"        ..."})})]})}),"\n",(0,e.jsx)(n.p,{children:"No changes needed to:"}),"\n",(0,e.jsxs)(n.ul,{children:["\n",(0,e.jsx)(n.li,{children:"Domain layer"}),"\n",(0,e.jsx)(n.li,{children:"Application layer"}),"\n",(0,e.jsx)(n.li,{children:"API layer"}),"\n"]}),"\n",(0,e.jsx)(n.h2,{id:s[23].id,children:s[23].value}),"\n",(0,e.jsx)(n.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"ainalyn/"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"├── domain/                    # Layer 1: Pure business logic"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   ├── entities/"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   │   ├── agent_definition.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   │   ├── workflow.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   │   ├── node.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   │   └── ..."})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   └── rules/"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│       └── definition_rules.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"├── ports/                     # Layer 2: Interfaces"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   ├── inbound/"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   │   ├── builder.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   │   ├── validator.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   │   └── exporter.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   └── outbound/"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│       ├── writer.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│       └── schema_validator.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"├── adapters/                  # Layer 3: Implementations"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   ├── primary/"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   │   ├── builders.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   │   └── errors.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   └── secondary/"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│       ├── validators.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│       ├── exporters.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│       └── analyzers.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"├── application/               # Layer 4: Use cases"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   ├── services.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│   └── use_cases/"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│       ├── validate_definition.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│       ├── export_definition.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│       └── compile_definition.py"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"│"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"├── api.py                     # Layer 5: Public API"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"├── cli.py                     # Layer 5: CLI"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"└── __init__.py               # Layer 5: Exports"})})]})}),"\n",(0,e.jsx)(n.h2,{id:s[24].id,children:s[24].value}),"\n",(0,e.jsx)(n.h3,{id:s[25].id,children:s[25].value}),"\n",(0,e.jsx)(n.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,e.jsxs)(n.code,{children:[(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"1. User calls AgentBuilder()           [Layer 5: API]"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"         ↓"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"2. AgentBuilder constructs             [Layer 3: Adapter]"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"         ↓"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"3. .build() creates AgentDefinition    [Layer 1: Domain]"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"         ↓"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"4. User calls export_yaml()            [Layer 5: API]"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"         ↓"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"5. DefinitionService orchestrates      [Layer 4: Application]"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"         ↓"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"6. YamlExporter exports                [Layer 3: Adapter]"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"         ↓"})}),"\n",(0,e.jsx)(n.span,{children:(0,e.jsx)(n.span,{children:"7. YAML string returned to user        [Layer 5: API]"})})]})}),"\n",(0,e.jsx)(n.h2,{id:s[26].id,children:s[26].value}),"\n",(0,e.jsx)(n.p,{children:"For detailed architecture and contribution guidelines, see the CONTRIBUTING.md file in the repository root."}),"\n",(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:"The architecture ensures the SDK remains a focused, reliable compiler for agent definitions!"})})]})},"/v1/concepts/architecture-overview",{filePath:"pages/v1/concepts/architecture-overview.mdx",timestamp:1767018088e3,pageMap:r.v,frontMatter:{},title:"Architecture Overview"},"undefined"==typeof RemoteContent?a:RemoteContent.useTOC)},8844:function(i,s,n){"use strict";n.d(s,{v:function(){return e}});let e=[{data:{index:{title:"Home",type:"page",display:"hidden"},v1:"Documentation"}},{name:"index",route:"/",frontMatter:{sidebarTitle:"Index"}},{name:"v1",route:"/v1",children:[{data:{"getting-started":"Getting Started",concepts:"Concepts",guides:"Guides","api-reference":"API Reference"}},{name:"api-reference",route:"/v1/api-reference",children:[{data:{api:"API Overview",builders:"Builders",entities:"Entities",cli:"CLI"}},{name:"api",route:"/v1/api-reference/api",frontMatter:{sidebarTitle:"API"}},{name:"builders",route:"/v1/api-reference/builders",frontMatter:{sidebarTitle:"Builders"}},{name:"cli",route:"/v1/api-reference/cli",frontMatter:{sidebarTitle:"CLI"}},{name:"entities",route:"/v1/api-reference/entities",frontMatter:{sidebarTitle:"Entities"}}]},{name:"concepts",route:"/v1/concepts",children:[{data:{"platform-boundaries":"Platform Boundaries","compiler-not-runtime":"Compiler vs Runtime","agent-definition":"Agent Definition","architecture-overview":"Architecture Overview"}},{name:"agent-definition",route:"/v1/concepts/agent-definition",frontMatter:{sidebarTitle:"Agent Definition"}},{name:"architecture-overview",route:"/v1/concepts/architecture-overview",frontMatter:{sidebarTitle:"Architecture Overview"}},{name:"compiler-not-runtime",route:"/v1/concepts/compiler-not-runtime",frontMatter:{sidebarTitle:"Compiler Not Runtime"}},{name:"platform-boundaries",route:"/v1/concepts/platform-boundaries",frontMatter:{sidebarTitle:"Platform Boundaries"}}]},{name:"getting-started",route:"/v1/getting-started",children:[{data:{index:"Overview",installation:"Installation",quickstart:"Quickstart","your-first-agent":"Your First Agent"}},{name:"index",route:"/v1/getting-started",frontMatter:{sidebarTitle:"Index"}},{name:"installation",route:"/v1/getting-started/installation",frontMatter:{sidebarTitle:"Installation"}},{name:"quickstart",route:"/v1/getting-started/quickstart",frontMatter:{sidebarTitle:"Quickstart"}},{name:"your-first-agent",route:"/v1/getting-started/your-first-agent",frontMatter:{sidebarTitle:"Your First Agent"}}]},{name:"guides",route:"/v1/guides",children:[{data:{workflows:"Workflows",modules:"Modules",tools:"Tools",prompts:"Prompts",validation:"Validation","yaml-export":"YAML Export",errors:"Error Handling"}},{name:"errors",route:"/v1/guides/errors",frontMatter:{sidebarTitle:"Errors"}},{name:"modules",route:"/v1/guides/modules",frontMatter:{sidebarTitle:"Modules"}},{name:"prompts",route:"/v1/guides/prompts",frontMatter:{sidebarTitle:"Prompts"}},{name:"tools",route:"/v1/guides/tools",frontMatter:{sidebarTitle:"Tools"}},{name:"validation",route:"/v1/guides/validation",frontMatter:{sidebarTitle:"Validation"}},{name:"workflows",route:"/v1/guides/workflows",frontMatter:{sidebarTitle:"Workflows"}},{name:"yaml-export",route:"/v1/guides/yaml-export",frontMatter:{sidebarTitle:"Yaml Export"}}]}]}]}},function(i){i.O(0,[812,888,774,179],function(){return i(i.s=1510)}),_N_E=i.O()}]);